<div class="container-fluid qnm" ng-controller="QNMCtrl">
<div class="row-fluid">
    <div class="span5">
        <div class="framehdr">
            <i class="icon icon-hdd"></i>
            Nodes
            <button ng-click="addNode()" tooltip-placement="left" tooltip="Add new Node">
                <i class="icon-plus"></i>
            </button>
            <!--                    <button ng-click="">
                                    <i class="icon-cog"></i>
                                </button>-->
        </div>
        <div class="frame">
            <table class="nodes">
                <thead>
                <tr>
                    <th>Node Name</th>
                    <th class="numeric">Utilization of other sources</th>
                    <th class="numeric">Aggregate Utilization</th>
                    <th style="width:15px;"></th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="node in model.nodes">
                    <td nowrap="nowrap">
                        <input type="text" class="input input-small simplebox" ng-model="node.name">
                    </td>
                    <td nowrap="nowrap">
                        <input type="text"
                               ng-change="change('UEX', node)"
                               class="input input-small simplebox quantity {{node.utilizationEx.state}}"
                               ng-model="node.utilizationEx.text"
                               pattern="{{node.utilizationEx.unit.pattern}}">
                                <span class="dropdown">
                                    <a class="dropdown-toggle simpleank">{{node.utilizationEx.unit.title}}</a>
                                    <ul class="dropdown-menu">
                                        <li ng-repeat="unit in node.utilizationEx.availableUnits()">
                                            <a ng-click="node.utilizationEx.setUnit(unit)">{{unit.title}}</a>
                                        </li>
                                    </ul>
                                </span>
                    </td>
                    <td nowrap="nowrap">
                        <input type="text"
                               ng-change="change('U', node)"
                               class="input input-small simplebox quantity {{node.utilization.state}}"
                               ng-model="node.utilization.text"
                               pattern="{{node.utilization.unit.pattern}}">
                                <span class="dropdown">
                                    <a class="dropdown-toggle simpleank">{{node.utilization.unit.title}}</a>
                                    <ul class="dropdown-menu">
                                        <li ng-repeat="unit in node.utilization.availableUnits()">
                                            <a ng-click="node.utilization.setUnit(unit)">{{unit.title}}</a>
                                        </li>
                                    </ul>
                                </span>
                    </td>
                    <td nowrap="nowrap">
                                <span style="height: 28px">
                                <button class="hdrbutton" ng-click="removeNode(node)" tooltip-placement="left" tooltip="Remove Node">
                                    <i class="icon-remove"></i>
                                </button>
                                    </span>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="span7">
        <div class="framehdr">
            <i class="icon icon-user"></i>
            Sources
            <button class="hdrbutton" ng-click="addSource()" tooltip-placement="left" tooltip="Add new Source">
                <i class="icon-plus"></i>
            </button>
            <!--                    <button class="hdrbutton" ng-click="">
                                    <i class="icon-cog"></i>
                                </button>-->
        </div>
        <div class="frame">
            <table class="sources">
                <thead>
                <tr>
                    <th>Source Name</th>
                    <th class="numeric">Number of Users</th>
                    <th class="numeric">Think Time</th>
                    <th class="numeric">Throughput</th>
                    <th class="numeric">Response Time</th>
                    <th style="width:15px;"></th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="source in model.sources">
                    <td nowrap="nowrap">
                        <input type="text" class="input input-small simplebox" ng-model="source.name">
                    </td>
                    <td nowrap="nowrap">
                        <input type="text"
                               ng-change="change('M', source)"
                               class="input input-small simplebox quantity {{source.numberUsers.state}}"
                               ng-model="source.numberUsers.text"
                               pattern="{{source.numberUsers.unit.pattern}}">
                                <span class="dropdown">
                                    <a class="dropdown-toggle simpleank">{{source.numberUsers.unit.title}}</a>
                                    <ul class="dropdown-menu">
                                        <li ng-repeat="unit in source.numberUsers.availableUnits()">
                                            <a ng-click="source.numberUsers.setUnit(unit)">{{unit.title}}</a>
                                        </li>
                                    </ul>
                                </span>
                    </td>
                    <td nowrap="nowrap">
                        <input type="text"
                               ng-change="change('Z', source)"
                               class="input input-small simplebox quantity {{source.thinkTime.state}}"
                               ng-model="source.thinkTime.text"
                               pattern="{{source.thinkTime.unit.pattern}}">
                                <span class="dropdown">
                                    <a class="dropdown-toggle simpleank">{{source.thinkTime.unit.title}}</a>
                                    <ul class="dropdown-menu">
                                        <li ng-repeat="unit in source.thinkTime.availableUnits()">
                                            <a ng-click="source.thinkTime.setUnit(unit)">{{unit.title}}</a>
                                        </li>
                                    </ul>
                                </span>
                    </td>
                    <td nowrap="nowrap">
                        <input type="text"
                               ng-change="change('X', source)"
                               class="input input-small simplebox quantity {{source.throughput.state}}"
                               ng-model="source.throughput.text"
                               pattern="{{source.throughput.unit.pattern}}">
                                <span class="dropdown">
                                    <a class="dropdown-toggle simpleank">{{source.throughput.unit.title}}</a>
                                    <ul class="dropdown-menu">
                                        <li ng-repeat="unit in source.throughput.availableUnits()">
                                            <a ng-click="source.throughput.setUnit(unit)">{{unit.title}}</a>
                                        </li>
                                    </ul>
                                </span>
                    </td>
                    <td nowrap="nowrap">
                        <input type="text"
                               ng-change="change('R', source)"
                               class="input input-small simplebox quantity {{source.responseTime.state}}"
                               ng-model="source.responseTime.text"
                               pattern="{{source.responseTime.unit.pattern}}">
                                <span class="dropdown">
                                    <a class="dropdown-toggle simpleank">{{source.responseTime.unit.title}}</a>
                                    <ul class="dropdown-menu">
                                        <li ng-repeat="unit in source.responseTime.availableUnits()">
                                            <a ng-click="source.responseTime.setUnit(unit)">{{unit.title}}</a>
                                        </li>
                                    </ul>
                                </span>
                    </td>
                    <td nowrap="nowrap">
                                <span style="height: 28px">
                                <button class="hdrbutton" ng-click="removeSource(source)" tooltip-placement="left" tooltip="Remove Source">
                                    <i class="icon-remove"></i>
                                </button>
                                    </span>
                    </td>
                </tr>
                </tbody>
            </table>

        </div>
    </div>
</div>
<div class="row-fluid">
    <div class="span12">
        <div class="row-fluid">
            <div class="framehdr">
                <i class="icon icon-time"></i>
                Visits
                <!--                        <button class="hdrbutton" ng-click="">
                                            <i class="icon-cog"></i>
                                        </button>-->
            </div>
            <div class="frame">
                <table class="visits">
                    <thead>
                    <tr>
                        <th>Source</th>
                        <th>Node</th>
                        <th class="numeric">Number of Visits</th>
                        <th class="numeric">Throughput</th>
                        <th class="numeric">Service Time</th>
                        <th class="numeric">Utilization</th>
                        <th class="numeric">Mean Number of Tasks</th>
                        <th class="numeric">Residence Time</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="visit in model.visits">
                        <td>{{visit.source.name}}</td>
                        <td>{{visit.node.name}}</td>
                        <td nowrap="nowrap">
                            <input type="text"
                                   ng-change="change('V', visit)"
                                   class="input input-small simplebox quantity {{visit.number.state}}"
                                   ng-model="visit.number.text"
                                   pattern="{{visit.number.unit.pattern}}">
                                <span class="dropdown">
                                    <a class="dropdown-toggle simpleank">{{visit.number.unit.title}}</a>
                                    <ul class="dropdown-menu">
                                        <li ng-repeat="unit in visit.number.availableUnits()">
                                            <a ng-click="visit.number.setUnit(unit)">{{unit.title}}</a>
                                        </li>
                                    </ul>
                                </span>
                        </td>
                        <td nowrap="nowrap">
                            <input type="text"
                                   ng-change="change('XI', visit)"
                                   class="input input-small simplebox quantity {{visit.throughput.state}}"
                                   ng-model="visit.throughput.text"
                                   pattern="{{visit.throughput.unit.pattern}}">
                                <span class="dropdown">
                                    <a class="dropdown-toggle simpleank">{{visit.throughput.unit.title}}</a>
                                    <ul class="dropdown-menu">
                                        <li ng-repeat="unit in visit.throughput.availableUnits()">
                                            <a ng-click="visit.throughput.setUnit(unit)">{{unit.title}}</a>
                                        </li>
                                    </ul>
                                </span>
                        </td>
                        <td nowrap="nowrap">
                            <input type="text"
                                   ng-change="change('S', visit)"
                                   class="input input-small simplebox quantity {{visit.serviceTime.state}}"
                                   ng-model="visit.serviceTime.text"
                                   pattern="{{visit.serviceTime.unit.pattern}}">
                                <span class="dropdown">
                                    <a class="dropdown-toggle simpleank">{{visit.serviceTime.unit.title}}</a>
                                    <ul class="dropdown-menu">
                                        <li ng-repeat="unit in visit.serviceTime.availableUnits()">
                                            <a ng-click="visit.serviceTime.setUnit(unit)">{{unit.title}}</a>
                                        </li>
                                    </ul>
                                </span>
                        </td>
                        <td nowrap="nowrap">
                            <input type="text"
                                   ng-change="change('U', visit)"
                                   class="input input-small simplebox quantity {{visit.utilization.state}}"
                                   ng-model="visit.utilization.text"
                                   pattern="{{visit.utilization.unit.pattern}}">
                                <span class="dropdown">
                                    <a class="dropdown-toggle simpleank">{{visit.utilization.unit.title}}</a>
                                    <ul class="dropdown-menu">
                                        <li ng-repeat="unit in visit.utilization.availableUnits()">
                                            <a ng-click="visit.utilization.setUnit(unit)">{{unit.title}}</a>
                                        </li>
                                    </ul>
                                </span>
                        </td>
                        <td nowrap="nowrap">
                            <input type="text"
                                   ng-change="change('N', visit)"
                                   class="input input-small simplebox quantity {{visit.meanNumberTasks.state}}"
                                   ng-model="visit.meanNumberTasks.text"
                                   pattern="{{visit.meanNumberTasks.unit.pattern}}">
                                <span class="dropdown">
                                    <a class="dropdown-toggle simpleank">{{visit.meanNumberTasks.unit.title}}</a>
                                    <ul class="dropdown-menu">
                                        <li ng-repeat="unit in visit.meanNumberTasks.availableUnits()">
                                            <a ng-click="visit.meanNumberTasks.setUnit(unit)">{{unit.title}}</a>
                                        </li>
                                    </ul>
                                </span>
                        </td>
                        <td nowrap="nowrap">
                            <input type="text"
                                   ng-change="change('RT', visit)"
                                   class="input input-small simplebox quantity {{visit.residenceTime.state}}"
                                   ng-model="visit.residenceTime.text"
                                   pattern="{{visit.residenceTime.unit.pattern}}">
                                <span class="dropdown">
                                    <a class="dropdown-toggle simpleank">{{visit.residenceTime.unit.title}}</a>
                                    <ul class="dropdown-menu">
                                        <li ng-repeat="unit in visit.residenceTime.availableUnits()">
                                            <a ng-click="visit.residenceTime.setUnit(unit)">{{unit.title}}</a>
                                        </li>
                                    </ul>
                                </span>
                        </td>
                    </tr>
                    </tbody>
                </table>

            </div>
        </div>
    </div>
</div>
</div>

<div style="margin: 64px;"></div>