<!doctype html>
<html lang="en" ng-app="perfModelApp" id="top">
<head>
    <meta charset="utf-8">
    <title>Performance Model Calculator</title>
    <meta name="description" content="Performance Model Calculator">

    <script src="angular/angular.min.js"></script>
    <script src="ng-bootstrap/ui-bootstrap-tpls-0.6.0.js"></script>
    <script src="js/index.js"></script>

    <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="font-awesome/css/font-awesome.min.css"/>
    <link rel="stylesheet" href="css/app.css"/>

</head>

<body class="ng-cloak" ng-controller="MainCtrl">

<header class="navbar navbar-fixed-top">
</header>

<!--<div style="margin: 32px;"></div>-->

<header class="hero-unit" id="overview">
    <div class="container">
        <h1>Performance Model Calculator</h1>

        <p>Computer System Analysis Using <strong>Queueing Network Models</strong> by the
            <strong><a href="http://www.maxur.org">Maxim Yunusov</a></strong></p>
    </div>
    <div class="bs-docs-social">
        <div class="container">
        </div>
    </div>
</header>


<div role="main">

<div class="container">
<section id="getting_started">
<alert ng-repeat="alert in alerts" type="alert.type" close="closeAlert($index)">{{alert.msg}}</alert>
<div class="row-fluid">
<div class="span6">
    <div class="row-fluid">
        <div class="span6">
            <h2>Sources</h2>
        </div>
    </div>
    <accordion close-others="oneAtATime">
        <accordion-group ng-repeat="source in model.sources" is-open="true">
            <accordion-heading>
                {{source.id + '. '}}
                <input id="sourceId" class="simplebox" ng-model="source.name" value="Source"/>
                <button class="close" ng-click="model.removeSource(source)"><i class="icon-remove"></i></button>
            </accordion-heading>
            <h3>Response</h3>
            <div class="row-fluid">
                <div class="span1">
                    <button type="button"
                            ng-model="source.responseTime.lock"
                            ng-hide="!source.responseTime.value"
                            class="btn btn-success span12"
                            btn-checkbox btn-checkbox-true="true"
                            btn-checkbox-false="false">
                        <i class="{{source.responseTime.lock ? 'icon-lock' : 'icon-unlock'}}"></i>
                    </button>
                </div>
                <div class="span5">
                    <label for="responseTime"
                           class="span12 {{source.responseTime.isValid() ? '' : 'alert-danger'}}"><b>Response
                        Time (R):</b></label>
                </div>
                <div class="span3" tooltip-placement="left" tooltip="{{source.responseTime.asNormFormTips()}}">
                    <input id="responseTime" type="number" ng-disabled="source.responseTime.lock" class="span12"
                           ng-model="source.responseTime.value" ng-change="change('R', source)" value="1"/>
                </div>
                <div class="btn-group, span3" ng-hide="source.responseTime.lock">
                    <button type="button" class="btn btn-mini btn-primary span3" ng-model="source.responseTime.unit"
                            btn-radio="'sec'" ng-change="change('R', source)">sec
                    </button>
                    <button type="button" class="btn btn-mini btn-primary span3" ng-model="source.responseTime.unit"
                            btn-radio="'min'" ng-change="change('R', source)">min
                    </button>
                    <button type="button" class="btn btn-mini btn-primary span3" ng-model="source.responseTime.unit"
                            btn-radio="'hr'" ng-change="change('R', source)">hr
                    </button>
                </div>
                <div class="btn-group, span3" ng-show="source.responseTime.lock">
                    sec.
                </div>
            </div>
            <div class="row-fluid">
                <div class="span6">
                    <h3>Workload</h3>
                </div>
                <div class="span6">
                    <h3 class="btn-group">
                        <a class="btn btn-mini {{source.isOpen ? 'btn-primary' : ''}}" ng-model="source.isOpen"
                           btn-radio="true" ng-click="source.open()"><i class="icon-eye-open"></i> Open</a>
                        <a class="btn btn-mini {{!source.isOpen ? 'btn-primary' : ''}}" ng-model="source.isOpen"
                           btn-radio="false" ng-click="source.close()"><i class="icon-eye-close"></i> Closed</a>
                    </h3>
                </div>
            </div>
            <div class="row-fluid" ng-hide="source.isOpen">
                <div class="span1">
                    <button type="button"
                            ng-model="source.numberUsers.lock"
                            ng-hide="!source.numberUsers.value"
                            class="btn btn-success span12"
                            btn-checkbox btn-checkbox-true="true"
                            btn-checkbox-false="false">
                        <i class="{{source.numberUsers.lock ? 'icon-lock' : 'icon-unlock'}}"></i>
                    </button>
                </div>
                <div class="span5">
                    <label for="numberUsers" class="span12 {{source.numberUsers.isValid() ? '' : 'alert-danger'}}">
                        Number of Users (M):
                    </label>
                </div>
                <div class="span3">
                    <input id="numberUsers" type="number" ng-disabled="source.numberUsers.lock" class="span12"
                           ng-model="source.numberUsers.value" value="1" ng-change="change('M', source)"/>
                </div>
            </div>
            <div class="row-fluid" ng-hide="source.isOpen">
                <div class="span1">
                    <button type="button"
                            ng-model="source.thinkTime.lock"
                            ng-hide="!source.thinkTime.value"
                            class="btn btn-success span12"
                            btn-checkbox btn-checkbox-true="true"
                            btn-checkbox-false="false">
                        <i class="{{source.thinkTime.lock ? 'icon-lock' : 'icon-unlock'}}"></i>
                    </button>
                </div>
                <div class="span5">
                    <label for="thinkTime" class="span12 {{source.thinkTime.isValid() ? '' : 'alert-danger'}}">
                        Think Time (Z):
                    </label>
                </div>
                <div class="span3" tooltip-placement="left" tooltip="{{source.thinkTime.asNormFormTips()}}">
                    <input id="thinkTime" type="number" ng-disabled="source.thinkTime.lock" class="span12"
                           ng-model="source.thinkTime.value" ng-change="change('Z', source)" value="1"/>
                </div>
                <div class="btn-group, span3" ng-hide="source.thinkTime.lock">
                    <button type="button" class="btn btn-mini btn-primary span3" ng-model="source.thinkTime.unit"
                            btn-radio="'sec'" ng-change="change('Z', source)">sec
                    </button>
                    <button type="button" class="btn btn-mini btn-primary span3" ng-model="source.thinkTime.unit"
                            btn-radio="'min'" ng-change="change('Z', source)">min
                    </button>
                    <button type="button" class="btn btn-mini btn-primary span3" ng-model="source.thinkTime.unit"
                            btn-radio="'hr'" ng-change="change('Z', source)">hr
                    </button>
                </div>
                <div class="btn-group, span3" ng-show="source.thinkTime.lock">
                    sec.
                </div>
            </div>
            <div class="row-fluid">
                <div class="span1">
                    <button type="button" ng-model="source.throughput.lock"
                            ng-hide="!source.throughput.value"
                            class="btn btn-success span12"
                            btn-checkbox btn-checkbox-true="true"
                            btn-checkbox-false="false">
                        <i class="{{source.throughput.lock ? 'icon-lock' : 'icon-unlock'}}"></i>
                    </button>
                </div>
                <div class="span5">
                    <label for="throughput" class="span12 {{source.throughput.isValid() ? '' : 'alert-danger'}}">
                        Throughput (X):
                    </label>
                </div>
                <div class="span3" tooltip-placement="left" tooltip="{{source.throughput.asNormFormTips()}}">
                    <input id="throughput" type="number" ng-disabled="source.throughput.lock" class="span12"
                           ng-model="source.throughput.value" ng-change="change('X', source)" value="1"/>
                </div>
                <div class="btn-group, span3" ng-hide="source.throughput.lock">
                    <button type="button" class="btn btn-mini btn-primary span3" ng-model="source.throughput.unit"
                            btn-radio="'tps'" ng-change="change('X', source)">tps
                    </button>
                    <button type="button" class="btn btn-mini btn-primary span3" ng-model="source.throughput.unit"
                            btn-radio="'tpm'" ng-change="change('X', source)">tpm
                    </button>
                    <button type="button" class="btn btn-mini btn-primary span3" ng-model="source.throughput.unit"
                            btn-radio="'tph'" ng-change="change('X', source)">tph
                    </button>
                </div>
                <div class="btn-group, span3" ng-show="source.throughput.lock">
                    tps.
                </div>
            </div>

            <h3>Visits to Nodes</h3>
            <div class="row-fluid">
            <table class="table">
                <thead>
                <tr>
                    <th>Node</th>
                    <th>Number of visits</th>
                    <th>Throughput</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="node in model.nodes">
                    <td>{{node.name}}</td>
                    <td>
                        <input id="numberVisits" type="number" class="span12"
                                                   ng-model="source.visits[node.id].value" value="1" ng-change="change('V', source)" />
                    </td>
                    <td>{{node.throughput.asNormFormStr()}}</td>
                </tr>
                </tbody>
            </table>​
            </div>


        </accordion-group>
    </accordion>
    <button class="btn btn-small" ng-click="model.addSource()"><i class="icon-user"></i> Add Source</button>
</div>

<div class="span6">
    <h2>Nodes</h2>

    <accordion close-others="oneAtATime">
        <accordion-group ng-repeat="node in model.nodes" is-open="true">
            <accordion-heading>
                {{node.id + '. '}}
                <input id="nodeId" class="simplebox" ng-model="node.name" value="Source"/>
                <button class="close" ng-click="model.removeNode(node)"><i class="icon-remove"></i></button>
            </accordion-heading>

            <h3>Environment</h3>

            <div class="row-fluid">
                <div class="span1">
                    <button type="button"
                            ng-model="node.utilizationEnv.lock"
                            ng-hide="!node.utilizationEnv.value"
                            class="btn btn-success span12"
                            btn-checkbox btn-checkbox-true="true"
                            btn-checkbox-false="false">
                        <i class="{{node.utilizationEnv.lock ? 'icon-lock' : 'icon-unlock'}}"></i>
                    </button>
                </div>
                <div class="span5">
                    <label for="utilizationEnv"
                           class="span12 {{node.utilizationEnv.isValid() ? '' : 'alert-danger'}}">Utilization
                        (U):</label>
                </div>
                <div class="span3" tooltip-placement="left" tooltip="{{node.utilizationEnv.asNormFormTips()}}">
                    <input id="utilizationEnv" type="number" ng-disabled="node.utilizationEnv.lock" class="span12"
                           ng-model="node.utilizationEnv.value" ng-change="change('UE', node)" value="1"/>
                </div>
                <div class="span3" ng-hide="node.utilizationEnv.lock">
                    <button type="button" class="btn btn-mini btn-primary span3" ng-model="node.utilizationEnv.unit"
                            btn-radio="'percent'" ng-change="change('UE', node)">%
                    </button>
                    <button type="button" class="btn btn-mini btn-primary span6" ng-model="node.utilizationEnv.unit"
                            btn-radio="'rate'" ng-change="change('UE', node)">rate
                    </button>
                </div>
                <div class="btn-group, span3" ng-show="node.utilizationEnv.lock">
                    %
                </div>
            </div>

            <h3>System</h3>

            <div class="row-fluid">
                <div class="span1">
                    <button type="button"
                            ng-model="node.serviceTime.lock"
                            ng-hide="!node.serviceTime.value"
                            class="btn btn-success span12"
                            btn-checkbox btn-checkbox-true="true"
                            btn-checkbox-false="false">
                        <i class="{{node.serviceTime.lock ? 'icon-lock' : 'icon-unlock'}}"></i>
                    </button>
                </div>
                <div class="span5">
                    <label for="serviceTime" class="span12 {{node.serviceTime.isValid() ? '' : 'alert-danger'}}">
                        Mean Service Time (S):
                    </label>
                </div>
                <div class="span3" tooltip-placement="left" tooltip="{{node.serviceTime.asNormFormTips()}}">
                    <input id="serviceTime" type="number" ng-disabled="node.serviceTime.lock" class="span12"
                           ng-model="node.serviceTime.value" ng-change="change('S', node)" value="1"/>
                </div>
                <div class="btn-group, span3" ng-hide="node.serviceTime.lock">
                    <button type="button" class="btn btn-mini btn-primary span3" ng-model="node.serviceTime.unit"
                            btn-radio="'sec'" ng-change="change('S', node)">sec
                    </button>
                    <button type="button" class="btn btn-mini btn-primary span3" ng-model="node.serviceTime.unit"
                            btn-radio="'min'" ng-change="change('S', node)">min
                    </button>
                    <button type="button" class="btn btn-mini btn-primary span3" ng-model="node.serviceTime.unit"
                            btn-radio="'hr'" ng-change="change('S', node)">hr
                    </button>
                </div>
                <div class="btn-group, span3" ng-show="node.serviceTime.lock">
                    sec.
                </div>
            </div>

            <div class="row-fluid">
                <div class="span1">
                    <button type="button"
                            ng-model="node.utilization.lock"
                            ng-hide="!node.utilization.value"
                            class="btn btn-success span12"
                            btn-checkbox btn-checkbox-true="true"
                            btn-checkbox-false="false">
                        <i class="{{node.utilization.lock ? 'icon-lock' : 'icon-unlock'}}"></i>
                    </button>
                </div>
                <div class="span5">
                    <label for="utilization"
                           class="span12 {{node.utilization.isValid() ? '' : 'alert-danger'}}">Utilization
                        (U):</label>
                </div>
                <div class="span3" tooltip-placement="left" tooltip="{{node.utilization.asNormFormTips()}}">
                    <input id="utilization" type="number" ng-disabled="node.utilization.lock" class="span12"
                           ng-model="node.utilization.value" ng-change="change('U', node)" value="1"/>
                </div>
                <div class="span3" ng-hide="node.utilization.lock">
                    <button type="button" class="btn btn-mini btn-primary span3" ng-model="node.utilization.unit"
                            btn-radio="'percent'" ng-change="change('U', node)">%
                    </button>
                    <button type="button" class="btn btn-mini btn-primary span6" ng-model="node.utilization.unit"
                            btn-radio="'rate'" ng-change="change('U',node)">rate
                    </button>
                </div>
                <div class="btn-group, span3" ng-show="node.utilization.lock">
                    %
                </div>
            </div>

            <div class="row-fluid">
                <div class="span1">
                    <button type="button"
                            ng-model="node.meanNumberTasks.lock"
                            ng-hide="!node.meanNumberTasks.value"
                            class="btn btn-success span12"
                            btn-checkbox btn-checkbox-true="true"
                            btn-checkbox-false="false">
                        <i class="{{node.meanNumberTasks.lock ? 'icon-lock' : 'icon-unlock'}}"></i>
                    </button>
                </div>
                <div class="span5">
                    <label for="meanNumberTasks" class="span12 {{node.meanNumberTasks.isValid() ? '' : 'alert-danger'}}">
                        Mean Number of Tasks (N):
                    </label>
                </div>
                <div class="span3">
                    <input id="meanNumberTasks" type="number" ng-disabled="node.meanNumberTasks.lock"
                           class="span12" ng-model="node.meanNumberTasks.value" ng-change="change('N', node)" value="1"/>
                </div>
            </div>

            <div class="row-fluid">
                <div class="span1">
                    <button type="button"
                            ng-model="node.residenceTime.lock"
                            ng-hide="!node.residenceTime.value"
                            class="btn btn-success span12"
                            btn-checkbox btn-checkbox-true="true"
                            btn-checkbox-false="false">
                        <i class="{{node.residenceTime.lock ? 'icon-lock' : 'icon-unlock'}}"></i>
                    </button>
                </div>
                <div class="span5">
                    <label for="residenceTime" class="span12 {{node.residenceTime.isValid() ? '' : 'alert-danger'}}">
                        Residence Time (RT):
                    </label>
                </div>
                <div class="span3" tooltip-placement="left" tooltip="{{node.residenceTime.asNormFormTips()}}">
                    <input id="residenceTime" type="number" ng-disabled="node.residenceTime.lock"
                           class="span12" ng-model="node.residenceTime.value" ng-change="change('RT', node)" value="1"/>
                </div>
                <div class="btn-group, span3" ng-hide="node.residenceTime.lock">
                    <button type="button" class="btn btn-mini btn-primary span3" ng-model="node.residenceTime.unit"
                            btn-radio="'sec'" ng-change="change('RT', node)">sec
                    </button>
                    <button type="button" class="btn btn-mini btn-primary span3" ng-model="node.residenceTime.unit"
                            btn-radio="'min'" ng-change="change('RT', node)">min
                    </button>
                    <button type="button" class="btn btn-mini btn-primary span3" ng-model="node.residenceTime.unit"
                            btn-radio="'hr'" ng-change="change('RT', node)">hr
                    </button>
                </div>
                <div class="btn-group, span3" ng-show="node.residenceTime.lock">
                    sec.
                </div>
            </div>
        </accordion-group>
    </accordion>
    <button class="btn btn-small" ng-click="model.addNode()"><i class="icon-desktop"></i> Add Node</button>

</div>
</div>
</section>
</div>
</div>

<footer class="footer">
    <div class="container">
        <p>Designed and built by <a href="http://www.maxur.org">Maxim Yunusov</a></p>

        <p>Code licensed under <a href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache License, Version 2.0</a>.
        </p>
    </div>
</footer>
</body>
</html>